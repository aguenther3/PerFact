<!DOCTYPE html>
<html lang="de">

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />

<head>
	<link rel="stylesheet" href="bootstrap-3.3.7-dist/css/bootstrap.css">
	<script src="bootstrap-3.3.7-dist/jquery/jquery-3.1.1.js"></script>
	<script src="bootstrap-3.3.7-dist/js/bootstrap.js"></script>

	<script src="tinymce/js/tinymce/tinymce.min.js"></script>
	<script src="tinymce/js/tinymce/jquery.tinymce.min.js"></script>

	<script>
		tinymce.init({
			selector: '#mytextarea',
			statusbar: false,
			menubar: false,
			height : "250"

		});
	</script>

	<style type="text/css">

		select:-moz-focusring { color: transparent;
			text-shadow: 0 0 0 #000; }

			a:active,
			a:hover, 
			a:focus{
				outline-style: none;
				outline: 0;
				text-decoration: none;
			}

     

			.form-control:focus {
				border-color: seablue;
				border-width: 2px;
				outline: 0;
				-webkit-box-shadow: none;
				box-shadow: none;
			}

			.form-horizontal .control-label{
				text-align:left;
			}

			.input-group{
				margin-bottom: 10px;
			}  	
			.glyphicon {
				top:2px;
			}
			.nav-tabs.nav-steps > li > a > .badge {
				margin-right: 3px;
				vertical-align: top;
				padding: 4px 7px 3px;
				border-style: solid;
				border-width: 1px;
				background-color: white;
				color: #337ab7;
			}
			.nav-pills.nav-steps > li.active > a> .badge {
				border-color: #3CBC3C;
				border-width: 1px;
				color: #3CBC3C;
			}
			.nav.nav-steps > li.finished:not(.active) > a:hover >.badge{
				border-color: #aaa;
				color: #aaa;
			}




			.nav.nav-steps > li.finished:not(.active) > a> .badge {
				border-color: #8cdb8c;
				border-width: 1px;
				color: #8cdb8c;
				background-color: white;
			}






			p {
				margin: 0px 0px 0px 0px;
			}



			.table {
				margin-bottom: 0px;
			}

			.table > tbody > tr > th, .table > tbody > tr > td {
				border-width: 0px;
				padding: 3px;
			}

			.nav-pills.nav-steps > li {
				position: relative;
				overflow: visible;
				border-right: 15px solid transparent;
				border-left: 15px solid transparent;
			}
			.nav-pills.nav-steps > li + li {
				margin-left: 0;
			}
			.nav-pills.nav-steps > li:first-child {
				border-left: 0;
			}
			.nav-pills.nav-steps > li:first-child a {
				border-radius: 5px 0 0 5px;
			}
			.nav-pills.nav-steps > li:last-child {
				border-right: 0;
			}
			.nav-pills.nav-steps > li:last-child a {
				border-radius: 0 5px 5px 0;
			}
			.nav-pills.nav-steps > li > a {
				border-radius: 1px;
				background-color: #eee;
				font-weight: bold;
				font-size: 15px;
				padding-top: 12px;
				padding-bottom: 12px;
			}

			.nav-pills.nav-steps > li:not(.active):not(.disabled):not(.finished) > a {
				color: #777;
			}


			.nav-pills.nav-steps > li:not(:last-child) a:after {
				position: absolute;
				content: "";
				top: 0px;
				right: -20px;
				width: 0px;
				height: 0px;
				border-style: solid;
				border-width: 23px 0 23px 20px;
				border-color: transparent transparent transparent #eee;
				z-index: 150;
			}
			.nav-pills.nav-steps > li:not(:first-child) a:before {
				position: absolute;
				content: "";
				top: 0px;
				left: -20px;
				width: 0px;
				height: 0px;
				border-style: solid;
				border-width: 23px 0 23px 20px;
				border-color: #eee #eee #eee transparent;
				z-index: 150;
			}
			.nav-pills.nav-steps > li:hover:not(:last-child):not(.active) a:after {
				border-color: transparent transparent transparent #aaa;
			}
			.nav-pills.nav-steps > li:hover:not(:first-child):not(.active) a:before {
				border-color: #aaa #aaa #aaa transparent;
			}
			.nav-pills.nav-steps > li:hover:not(.active) > a {
				background-color: #aaa;
				color: #fff;
			}
			.nav-pills.nav-steps > li:hover:not(.active) > a >.badge{
				border-color: #aaa;
				color: #aaa;
			}

			.nav-pills.nav-steps > li.finished > a:after {
				border-color: transparent transparent transparent #8cdb8c;
			}
			.nav-pills.nav-steps > li.finished> a:before {
				border-color: #8cdb8c #8cdb8c #8cdb8c transparent;
			}
			.nav-pills.nav-steps > li.finished > a {
				background-color: #8cdb8c;
				color: #fff;
			}


			.disabled{
				pointer-events: none;
			}


			.nav-pills.nav-steps > li.active:not(:last-child) a:after {
				border-color: transparent transparent transparent #3CBC3C;
			}
			.nav-pills.nav-steps > li.active:not(:first-child) a:before {
				border-color: #3CBC3C #3CBC3C #3CBC3C transparent;
			}
			.nav-pills.nav-steps > li.active > a {
				background-color: #3CBC3C;
			}

			.check-panel, .check-panel > div.panel-heading, div.panel-body {
				border-color: #f2f2f2;
				border-width: 2px
			}

			.check-panel .panel-title {
				margin: 10px 0px;
			}



		}


	</style>

</head>


<body>

	<div>
		<div>
			<img src="header.png"\>
		</div>
		<div class="row">
			<div class="col-xs-3">
				<div class="img">
					<img src="sidebar.png"\>
				</div>
			</div>
			<div class="col-xs-9" style="margin-left: -130px">
				<div style="margin-top: 20px">


					<!-- Nav-Bar top -->
					<nav class="navbar navbar-default" style="border-width: 2px">
						<ul class="nav navbar-nav navbar-right">
							<li>
								<p class="navbar-text" style="margin-right: 5px">
									Ticket
								</p>
							</li>
							<li style="margin-right: 25px">
								<div class="btn-group" role="group" id="inlineFormCustomSelect">
									<div class="btn-group" role="group">
										<button type="button" class="btn btn-default btn-xs navbar-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
											--
											<span class="caret">
											</span>
										</button>
										<ul class="dropdown-menu">
											<li>
												<a href="#">
													T456
												</a>
											</li>
											<li>
												<a href="#">
													T789
												</a>
											</li>
										</ul>
									</div>
									<button type="button" class="btn btn-default btn-xs navbar-btn" aria-label="Left Align">
										<span class="glyphicon glyphicon-search" aria-hidden="true">
										</span>
									</button>
								</div>
							</li>
							<li>
								<a href="">
									<span class="glyphicon glyphicon-list" aria-hidden="true">
									</span>
									<span>
										Ticketliste
									</span>
								</a>
							</li>
							<li>
								<a href="">
									<span class="glyphicon glyphicon-log-in" aria-hidden="true">
									</span>
									<span style="margin-right: 20px">
										neues Ticket
									</span>
								</a>
							</li>
						</ul>
					</nav>



					<!-- Ticket -->
					<div>
						<div style="margin-top: 20px">
							<div class="panel panel-default" style="border-width: 2px">


								<!-- Ticket-Head -->
								<div style="border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e5e5e5;">
									<div class="panel-body"">
										<div style="margin-bottom:30px">
											<h3>
												neues Ticket
												<br>
												<small>
													Bitte beschreiben Sie Ihr Anliegen und hinterlegen Sie Ihre Kontaktdaten. f&uuml;r den Fall, dass SIe nicht erreichbar sein sollten, k&ouml;nnen Sie zus&auml;tztliche Kontaktpersonen angeben.
												</small>
											</h3>
										</div>
									</div>
								</div>


								<!-- Ticket-Body -->
								<div class="panel-body">
									<ul class="nav nav-pills nav-steps nav-justified" id="navTabBar">
										<li class="active disabled">
											<a href="#tab1" class="tab-link">
												<span class="badge">
													1
												</span>
												<!-- <span class="glyphicon glyphicon-send"></span> -->
												<span>
													Anliegen
												</span>
											</a>
										</li>
										<li>
											<a href="#tab2" class="tab-link">
												<span class="badge">
													2
												</span>
												<!-- <span class="glyphicon glyphicon-envelope"></span> -->
												<span>
													Kontakt
												</span>
											</a>
										</li>
										<li>
											<a href="#tab3" class="tab-link">
												<span class="badge">
													3
												</span>
												<!-- <span class="glyphicon glyphicon-envelope"></span> -->
												<span>
													Spezifikation
												</span>
											</a>
										</li>
										<li>
											<a href="#check" class="tab-link">
												<span class="badge">
													4
												</span>
												<!-- <span class="glyphicon glyphicon-credit-card"></span> -->
												<span>
													Pr&uuml;fen und Abschlie&szlig;en
												</span>
											</a>
										</li>
									</ul>
								</div>
								<div class="panel-body">
									<div class="tab-content">

										<!-- Tab1 -->
										<div class="panel-body tab-pane active" id="tab1">
											<div class="form-group">
												<label for"subject">
													Betreff *
												</label>
												<input id="subject_input" class="form-control checkedInput" type="text">
											</div>
											<div class="form-group">
												<label for"subject">
													Ger&auml;t *
												</label>
												<select class="custom-select form-control" id="gereat_input">
													<option selected></option>
													<option value="Kaffeemaschine">Kaffeemaschine</option>
													<option value="Waschmaschine">Waschmaschine</option>
													<option value="Fernseher">Fernseher</option>
												</select>
											</div>
											<div class="form-group">
												<label for"mceu_13">
													Beschreibung
												</label>
												<input id="mytextarea" >
											</div>
											<div class="panel-body" style="padding-bottom: 0px; margin-top: 45px;">
												<div class="pull-right">
													<div class="row text-right">
														<div class="col-xs-12 spacer-small">
															<div>
																<button type="button" class="btn btn-primary navTabsNext pull-right" style="margin-top: 15px">
																	<span class="glyphicon glyphicon-menu-right" aria-hidden="true">
																	</span>
																	<span>
																		weiter
																	</span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>

										<!-- Tab2 -->
										<div class="panel-body tab-pane" id="tab2">
											<div>
												<div id="contacts">
													<div id="contact_person" class="" style="margin-bottom: 35px">
														<div class="">
															<div class="row" style="padding-bottom: 15px"> 
																<label class="col-sm-3 pull-left">Ansprechpartner 1</label>
																<button class="close" style="padding-right: 15px" id="deleteContact" title="Kontakt entfernen">x</button>
															</div>
															<form class="">
																<div class="row">
																	<div class="col-md-2 form-group">
																		<label for"anrede">
																			Anrede
																		</label>
																		<select class="custom-select mb-2 form-control" id="anrede_input">
																			<option selected></option>
																			<option value="Herr">Herr</option>
																			<option value="Frau">Frau</option>
																		</select>

																	</div>
																	<div class="col-md-5 form-group">
																		<label for"vorname">
																			Vorname
																		</label>
																		<input id="vorname_input" class="form-control" type="text">
																	</div>
																	<div class="col-md-5 form-group">
																		<label for"nachname">
																			Nachname
																		</label>
																		<input id="nachname_input" class="form-control" type="text">
																	</div>
																</div>
																<div class="row">
																<div class="form-group col-md-12">
																	<label for"telefon">
																		Telefon
																	</label>
																	<input id="telefon_input" class="form-control" type="text">
																</div>
																</div>
																<div class="row">
																<div class="form-group col-md-9">
																	<label for"email">
																		eMail
																	</label>
																	<input id="email_input" class="form-control" type="text">
																</div>
																<div class="input-group col-md-3 pull-right">
																	<label for"wishesmails">
																		eMails an Kontakt senden
																	</label>
																	<input id="wishesmails_input" class="form-control checkedInput" type="checkbox">
																</div>
																</div>
															</form>
														</div>
													</div>
												</div>
												<div>
													<button class="btn btn-default panel-heading-btn btn-block pull-left" type="button" aria-hidden="true" style="margin-bottom: 15px; margin-top: 15px" id="addcontact">
														<span class="glyphicon glyphicon-plus">
														</span>
														<span>
															weiteren Kontakt hinzuf&uuml;gen
														</span>
													</button>
												</div>
												<div class="panel-body" style="padding-bottom: 0px; margin-top: 110px;">
													<div class="pull-right">
														<div class="row text-right">
															<div class="col-xs-12 spacer-small">
																<div>
																	<button type="button" class="btn btn-primary navTabsNext pull-right" style="margin-top: 15px">
																		<span class="glyphicon glyphicon-menu-right" aria-hidden="true">
																		</span>
																		<span>
																			weiter
																		</span>
																	</button>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>

										<!-- Tab3 -->
										<div class="panel-body tab-pane" id="tab3">
											<div>
												<div class="form-group">
													<label for"kategorie">
														Ticket-Kategorie
													</label>
													<select class="custom-select mb-12 form-control" id="kategorie_input">
														<option selected></option>
														<option value="Reperatur">Reperatur</option>
														<option value="Ersaztteil bestellen">Ersaztteil bestellen</option>
														<option value="Ger&auml;t ersetzen">Ger&auml;t ersetzen</option>
													</select>
												</div>
												<div class="form-group">
													<label for"prioritaet">
														Ticket-Priorit&auml;t
													</label>
													<select class="custom-select mb-12 form-control" id="prioritaet_input">
														<option selected></option>
														<option value="hoch">hoch</option>
														<option value="niedrig">niedrig</option>
													</select>
												</div>
												<div class="form-group">
													<label for"kundensichtbar">
														Ticket kundensichtbar
													</label>
													<div class="form-check form-check-inline">
														<label class="custom-control custom-radio" style="font-weight: normal">
															<input id="radio1" name="kundensichtbar_input"  value="ja" type="radio" class="custom-control-input">
															<span class="custom-control-indicator"></span>
															<span class="custom-control-description">ja</span>
														</label>
														<label class="custom-control custom-radio" style="font-weight: normal">
															<input id="radio2" name="kundensichtbar_input" type="radio" value="nein" class="custom-control-input">
															<span class="custom-control-indicator"></span>
															<span class="custom-control-description">nein</span>
														</label>
													</div>
												</div>
												<div class="panel-body" style="padding-bottom: 0px; margin-top: 20px;">
													<div class="pull-right">
														<div class="row text-right">
															<div class="col-xs-12 spacer-small">
																<div>												
																	<button type="button" class="btn btn-primary navTabsNext pull-right" style="margin-top: 15px" id="continueToCheck">
																		<span class="glyphicon glyphicon-menu-right" aria-hidden="true">
																		</span>
																		<span>
																			weiter
																		</span>
																	</button>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>

										<!-- Tab4 -->
										<div class="panel-body tab-pane" id="check">
											<div id="check_content">


												<div class="panel panel-default check-panel">   
													<div class="check-heading panel-heading clearfix">
														<h4 class="panel-title">
															<a role="button" data-toggle="collapse" href="#checkAnliegen" aria-expanded="true" aria-controls="checkAnliegen">
																<span class="glyphicon glyphicon-menu-down"> 
																</span>
																<span> 
																	Anliegen
																</span>
															</a>
														</h4>
													</div>
													<div id="checkAnliegen" class="panel-collapse collapse in panel-content" role="tabpanel" aria-labelledby="checkAnliegen">
														<div class="panel-body" style="border-width: 2px">
															<form class="form-horizontal">
																<div class="form-group">
																	<label for"subject" class="col-sm-2 control-label">
																		Betreff:
																	</label>
																	<div id="subject" class="form-control-static output col-sm-10" type="text">
																	</div>
																</div>
																<div class="form-group">
																	<label for"gereat" class="col-sm-2 control-label">
																		Ger&auml;t:
																	</label>
																	<div class="form-control-static output col-sm-10" id="gereat">
																	</div>
																</div>
																<div class="form-group">
																	<label for"description" class="col-sm-2 control-label">
																		Beschreibung:
																	</label>
																	<div class="form-control-static output col-sm-10" id="description">
																	</div>
																</div>
															</form>
														</div>
													</div>
												</div>









												<div class="panel panel-default check-panel">   
													<div class="check-heading panel-heading clearfix">
														<h4 class="panel-title">
															<a role="button" data-toggle="collapse" href="#checkKontakt" aria-expanded="true" aria-controls="checKontakt">
																<span class="glyphicon glyphicon-menu-down"> 
																</span>
																<span> 
																	Kontakt
																</span>
															</a>
														</h4>
													</div>
													<div id="checkKontakt" class="panel-collapse collapse in panel-content" role="tabpanel" aria-labelledby="checkKontakt">
														<div id="check_contact">
														<div class="panel-body" id="check_contact_person" style="border-width: 2px; border-top-style: solid;">
																<form class="form-horizontal">
																	<div class="form-group">
																		<label for"anrede" class="col-sm-2 control-label">
																			Ansprechpartner:
																		</label>
																		<div class="col-sm-10 form-control-static">
																			<div id="anrede" class="output" style="display: inline-block;" type="text">
																			</div>																
																			<div class=" output inline" style="display: inline-block;" id="vorname">
																			</div>
																			<div class="output inline" style="display: inline-block;" id="nachname">
																			</div>
																		</div>
																	</div>
																	<div class="form-group">
																		<label for"telefon" class="col-sm-2 control-label">
																			Telefon:
																		</label>
																		<div class="form-control-static output col-sm-10" id="telefon">
																		</div>
																	</div>
																	<div class="form-group">
																		<label for"email" class="col-sm-2 control-label">
																			eMail:
																		</label>
																		<div class="form-control-static output col-sm-10" id="email">
																		</div>
																	</div>
																	<div class="form-group">
																		<label for"wishesmails" class="col-sm-2 control-label">
																			eMails an Kontakt senden:
																		</label>
																		<div class="form-control-static output col-sm-10" id="wishesmails">
																		</div>
																	</div>
																</form>

															</div>
														</div> 
													</div>
												</div>

												<div class="panel panel-default check-panel">   
													<div class="check-heading panel-heading clearfix">
														<h4 class="panel-title">
															<a role="button" data-toggle="collapse" href="#checkSpezi" aria-expanded="true" aria-controls="checkSpezi">
																<span class="glyphicon glyphicon-menu-down"> 
																</span>
																<span> 
																	Spezifikation
																</span>
															</a>
														</h4>
													</div>
													<div id="checkSpezi" class="panel-collapse collapse in panel-content" role="tabpanel" aria-labelledby="checkSpezi">
														<div class="panel-body" style="border-width: 2px">
															<form class="form-horizontal">
																<div class="form-group">
																	<label for"kategorie" class="col-sm-2 control-label">
																		Ticket-Kategorie:
																	</label>
																	<div class="form-control-static output col-sm-10" id="kategorie">

																	</div>
																</div>
																<div class="form-group">
																	<label for"prioritaet" class="col-sm-2 control-label">
																		Ticket-Priorit&auml;t:
																	</label>
																	<div class="form-control-static output col-sm-10" id="prioritaet">

																	</div>
																</div>
																<div class="form-group">
																	<label for"kundensichtbar" class="col-sm-2 control-label">
																		Ticket kundensichtbar:
																	</label>
																	<div class="form-control-static output col-sm-10" id="kundensichtbar">

																	</div>
																</div>
															</form>
														</div>
													</div> 
												</div>
												<h4>
												</h4>


												<!-- Ticket-Buttons -->
												<div class="panel-body" style="padding-bottom: 0px; margin-top: 45px;">
													<div class="pull-right">
														<div class="row text-right" style="margin-top: 15px">
															<div class="col-xs-12 spacer-small">
																<div>
																	<button class="btn" aria-expanded="false">
																		<span class="glyphicon glyphicon-remove" aria-hidden="true">
																		</span>
																		<span>
																			Verwerfen
																		</span>
																	</button>
																	<button class="btn" aria-expanded="false">
																		<span class="glyphicon glyphicon-floppy-disk" aria-hidden="true">
																		</span>
																		<span>
																			als Entwurf speichern
																		</span>
																	</button>
																	<button class="btn btn-primary" aria-expanded="false">
																		<span class="glyphicon glyphicon-menu-right" aria-hidden="true">
																		</span>
																		<span>
																			Ticket an Dispatcher weitergeben
																		</span>
																	</button>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

</body>

</html>



<script type="text/javascript">


	$(document).ready(function () {

		/*disable non active tabs*/
		$('.nav.nav-steps li').addClass('disabled');
		$('.nav.nav-steps li').not('.active').find('a').removeAttr("data-toggle");


		//Wechsel der Tabs ueber Button 'weiter'
		$('.navTabsNext').click(function () {

			$('#navTabBar li.active').addClass('finished');
			//$('#navTabBar li.active').addClass('disabled');
			//$('#navTabBar li.active').find('a').removeAttr("data-toggle");
			//$('#navTabBar li.active').next('li').removeClass('disabled');
			$('#navTabBar li.active').next('li').find('a').attr('data-toggle','tab');
			$('#navTabBar li.active').next().find('a').trigger("click");

			//falls check-tab erreicht, alle tabs anwaehlbar
			if($('#navTabBar li.active').find('a').attr("href")=='#check'){
				if($('.nav.nav-steps li:first').hasClass('disabled')){
					$('.nav.nav-steps li').removeClass('disabled');
					$('.nav.nav-steps li').find('a').attr('data-toggle','tab');
					$('.nav.nav-steps li:not(:last)').find('a').append('<span style="padding-left:5px;" class="glyphicon glyphicon-pencil"></span>');
				};
			};
			window.scrollTo(0, 400);
		});
		

		//loescht Kontaktperson
		$('#deleteContact').click(function () {
			if($('#contacts').children().length>1){
				$(this).parents('#contact_person').remove();
			}
			else {
				$(this).parents('#contact_person').find(':input').val('');
			}

		});


		//Aktualisieren der Textfelder im Uebersicht-Tab
		$('a[href="#check"]').click(function () {

			//Anzahl Kontakte zuruecksetzen
			$('#check_contact').children(':first').find('.output').each(function(){
				$(this).text("");
			});
			$('#check_contact').children(':gt(0)').remove();


			//fuellt alle vorhandenen Textfelder mit eingegebenen Input
			$('.output').each(function(){
				if ($('#'+this.id+'_input').val()=="") {
					$(this).text("");
				}
				else {
					$(this).text($('#'+this.id+'_input').val());
				}
			});
			$('#kundensichtbar').text($( "input[type=radio][name=kundensichtbar_input]:checked").val());
			if($('#wishesmails_input').is(':checked')){
				$('#wishesmails').text("ja");
			} 
			else {
				$('#wishesmails').text("nein");
			};
			//Inhalt tinyMCE
			$('#description').html(tinyMCE.activeEditor.getContent({format : 'raw'}));

            //Felder fuer mehrere Kontakte hinzufuegen + fuellen
            if ($('#contacts').children().length>1) {
            	$('#contacts').children(':gt(0)').each(function() {
            		$('#check_contact').children(':first').clone().appendTo($('#check_contact'));
            		fill_contact_checks(this);

            	});
            };
        });

        //Kontakt-Form um weiteren Kontakt anfuegen + Inhalt ruecksetzen
        $('#addcontact').click(function () {
        	$('#contact_person').clone(':first').appendTo($('#contacts'));	
        	$('#contacts').children(':last').find(':input').val('');
        });
    });

	function fill_contact_checks(elem_with_inputs){
		$('#check_contact').children(':last').find('.output').each(function(){
			if ($(elem_with_inputs).find('#'+this.id+'_input').val()=="") {
				$(this).text("");
			}
			else {
				$(this).text($(elem_with_inputs).find('#'+this.id+'_input').val())
			}
		});
		//alert($(elem_with_inputs).find('#wishesmails_input').is(':checked'));
		if($(elem_with_inputs).find('#wishesmails_input').is(':checked')){
			$('#check_contact').children(':last').find('#wishesmails').text("ja");
		} 
		else {
			$('#check_contact').children(':last').find('#wishesmails').text("nein");
		};

	};


</script>