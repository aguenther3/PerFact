<!DOCTYPE html>
<html lang="de">

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />

<head>
	<link rel="stylesheet" href="bootstrap-3.3.7-dist/css/bootstrap.css">
	<script src="bootstrap-3.3.7-dist/jquery/jquery-3.1.1.js"></script>
	<script src="bootstrap-3.3.7-dist/js/bootstrap.js"></script>

	<script src="tinymce/js/tinymce/tinymce.min.js"></script>
	<script src="tinymce/js/tinymce/jquery.tinymce.min.js"></script>

	<script>
		tinymce.init({
			selector: '#mytextarea',
			statusbar: false,
			menubar: false,
			height : "250"

		});
	</script>

	<style type="text/css">

		a:active,
		a:hover, 
		a:focus{
			outline-style: none;
		}

		.form-control:focus {
			border-color: seablue;
			border-width: 2px
			outline: 0;
			-webkit-box-shadow: none;
			box-shadow: none;
		}

		.input-group{
			margin-bottom: 10px;
		}  	
		.glyphicon {
			top:2px;
		}
		.nav-tabs.nav-steps > li > a > .badge {
			margin-right: 3px;
			vertical-align: top;
			padding: 4px 7px 3px;
			border-style: solid;
			border-width: 1px;
			background-color: white;
			color: #337ab7;
		}
		.nav-pills.nav-steps > li.active > a> .badge {
			border-color: #3CBC3C;
			border-width: 1px;
			color: #3CBC3C;
		}
		.nav.nav-steps > li.finished:not(.active) > a:hover >.badge{
			border-color: #aaa;
			color: #aaa;
		}
		
		


		.nav.nav-steps > li.finished:not(.active) > a> .badge {
			border-color: #8cdb8c;
			border-width: 1px;
			color: #8cdb8c;
			background-color: white;
		}
		





		p {
			margin: 0px 0px 0px 0px;
		}



		.table {
			margin-bottom: 0px;
		}

		.table > tbody > tr > th, .table > tbody > tr > td {
			border-width: 0px;
			padding: 3px;
		}

		.nav-pills.nav-steps > li {
			position: relative;
			overflow: visible;
			border-right: 15px solid transparent;
			border-left: 15px solid transparent;
		}
		.nav-pills.nav-steps > li + li {
			margin-left: 0;
		}
		.nav-pills.nav-steps > li:first-child {
			border-left: 0;
		}
		.nav-pills.nav-steps > li:first-child a {
			border-radius: 5px 0 0 5px;
		}
		.nav-pills.nav-steps > li:last-child {
			border-right: 0;
		}
		.nav-pills.nav-steps > li:last-child a {
			border-radius: 0 5px 5px 0;
		}
		.nav-pills.nav-steps > li > a {
			border-radius: 1px;
			background-color: #eee;
			font-weight: bold;
			font-size: 15px;
			padding-top: 12px;
    padding-bottom: 12px;
		}

		.nav-pills.nav-steps > li:not(.active):not(.disabled):not(.finished) > a {
			color: #777;
		}


		.nav-pills.nav-steps > li:not(:last-child) a:after {
			position: absolute;
			content: "";
			top: 0px;
			right: -20px;
			width: 0px;
			height: 0px;
			border-style: solid;
			border-width: 23px 0 23px 20px;
			border-color: transparent transparent transparent #eee;
			z-index: 150;
		}
		.nav-pills.nav-steps > li:not(:first-child) a:before {
			position: absolute;
			content: "";
			top: 0px;
			left: -20px;
			width: 0px;
			height: 0px;
			border-style: solid;
			border-width: 23px 0 23px 20px;
			border-color: #eee #eee #eee transparent;
			z-index: 150;
		}
		.nav-pills.nav-steps > li:hover:not(:last-child):not(.active) a:after {
			border-color: transparent transparent transparent #aaa;
		}
		.nav-pills.nav-steps > li:hover:not(:first-child):not(.active) a:before {
			border-color: #aaa #aaa #aaa transparent;
		}
		.nav-pills.nav-steps > li:hover:not(.active) > a {
			background-color: #aaa;
			color: #fff;
		}
		.nav-pills.nav-steps > li:hover:not(.active) > a >.badge{
			border-color: #aaa;
			color: #aaa;
		}

		.nav-pills.nav-steps > li.finished > a:after {
			border-color: transparent transparent transparent #8cdb8c;
		}
		.nav-pills.nav-steps > li.finished> a:before {
			border-color: #8cdb8c #8cdb8c #8cdb8c transparent;
		}
		.nav-pills.nav-steps > li.finished > a {
			background-color: #8cdb8c;
			color: #fff;
		}


		.disabled{
			pointer-events: none;
		}

		
		.nav-pills.nav-steps > li.active:not(:last-child) a:after {
			border-color: transparent transparent transparent #3CBC3C;
		}
		.nav-pills.nav-steps > li.active:not(:first-child) a:before {
			border-color: #3CBC3C #3CBC3C #3CBC3C transparent;
		}
		.nav-pills.nav-steps > li.active > a {
			background-color: #3CBC3C;
		}


	}


</style>

</head>


<body>

	<div>
		<div>
			<img src="header.png"\>
		</div>
		<div class="row">
			<div class="col-xs-3">
				<div class="img">
					<img src="sidebar.png"\>
				</div>
			</div>
			<div class="col-xs-9" style="margin-left: -130px">
				<div style="margin-top: 20px">


					<!-- Nav-Bar top -->
					<nav class="navbar navbar-default">
						<ul class="nav navbar-nav navbar-right">
							<li>
								<p class="navbar-text" style="margin-right: 5px">
									Ticket
								</p>
							</li>
							<li style="margin-right: 25px">
								<div class="btn-group" role="group" id="inlineFormCustomSelect">
									<div class="btn-group" role="group">
										<button type="button" class="btn btn-default btn-xs navbar-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
											--
											<span class="caret">
											</span>
										</button>
										<ul class="dropdown-menu">
											<li>
												<a href="#">
													T456
												</a>
											</li>
											<li>
												<a href="#">
													T789
												</a>
											</li>
										</ul>
									</div>
									<button type="button" class="btn btn-default btn-xs navbar-btn" aria-label="Left Align">
										<span class="glyphicon glyphicon-search" aria-hidden="true">
										</span>
									</button>
								</div>
							</li>
							<li>
								<a href="">
									<span class="glyphicon glyphicon-list" aria-hidden="true">
									</span>
									<span>
										Ticketliste
									</span>
								</a>
							</li>
							<li>
								<a href="">
									<span class="glyphicon glyphicon-log-in" aria-hidden="true">
									</span>
									<span style="margin-right: 20px">
										neues Ticket
									</span>
								</a>
							</li>
						</ul>
					</nav>



					<!-- Ticket -->
					<div>
						<div style="margin-top: 20px">
							<div class="panel panel-default" >


								<!-- Ticket-Head -->
								<div style="border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #e5e5e5;">
									<div class="panel-body"">
										<div style="margin-bottom:30px">
											<h3>
												neues Ticket
												<br>
												<small>
													Bitte beschreiben Sie Ihr Anliegen und hinterlegen Sie Ihre Kontaktdaten. f&uuml;r den Fall, dass SIe nicht erreichbar sein sollten, k&ouml;nnen Sie zus&auml;tztliche Kontaktpersonen angeben.
												</small>
											</h3>
										</div>
									</div>
								</div>


								<!-- Ticket-Body -->
								<div class="panel-body">
									<ul class="nav nav-pills nav-steps nav-justified" id="navTabBar">
										<li class="active">
											<a href="#tab1" data-toggle="tab" class="tab-link">
												<span class="badge">
													1
												</span>
												<!-- <span class="glyphicon glyphicon-send"></span> -->
												<span>
													Anliegen
												</span>
											</a>
										</li>
										<li>
											<a href="#tab2" data-toggle="tab" class="tab-link">
												<span class="badge">
													2
												</span>
												<!-- <span class="glyphicon glyphicon-envelope"></span> -->
												<span>
													Kontakt
												</span>
											</a>
										</li>
										<li>
											<a href="#tab3" data-toggle="tab" class="tab-link">
												<span class="badge">
													3
												</span>
												<!-- <span class="glyphicon glyphicon-envelope"></span> -->
												<span>
													Spezifikation
												</span>
											</a>
										</li>
										<li>
											<a href="#check" data-toggle="tab" class="tab-link">
												<span class="badge">
													4
												</span>
												<!-- <span class="glyphicon glyphicon-credit-card"></span> -->
												<span>
													Pr&uuml;fen und Abschlie&szlig;en
												</span>
											</a>
										</li>
									</ul>
								</div>
								<div class="panel-body">
									<div class="tab-content">

										<!-- Tab1 -->
										<div class="panel-body tab-pane active" id="tab1">
											<div class="input-group">
												<label class="input-group-addon" for"subject">
													Betreff *
												</label>
												<input id="subject_input" class="form-control checkedInput" type="text">
											</div>
											<div class="input-group">
												<label class="input-group-addon" for"subject">
													Ger&auml;t *
												</label>
												<select class="custom-select mb-12 form-control" id="gereat_input">
													<option selected>--</option>
													<option value="Kaffeemaschine">Kaffeemaschine</option>
													<option value="Waschmaschine">Waschmaschine</option>
													<option value="Fernseher">Fernseher</option>
												</select>
											</div>
											<div class="input-group">
												<label class="input-group-addon" for"mceu_13">
													Beschreibung
												</label>
												<input id="mytextarea" >
											</div>
											<button type="button" class="btn btn-default navTabsNext pull-right" style="margin-top: 15px">
												<span class="glyphicon glyphicon-menu-right" aria-hidden="true">
												</span>
												<span>
													weiter
												</span>
											</button>
										</div>

										<!-- Tab2 -->
										<div class="panel-body tab-pane" id="tab2">
											<div>
												<div id="contacts">
													<div id="contact_person" class="panel panel-default">
														<div class="panel-body">
															<div> 
																<button class="close" id="deleteContact" title="Kontakt entfernen">x</button>
															</div>
															<div class="input-group form-check form-check-inline">
																<label class="input-group-addon" for"anrede">
																	Anrede
																</label>
																<div class="form-check form-check-inline">
																	<label class="custom-control custom-radio">
																		<input id="radio1" name="anrede_input"  value="Herr" type="radio" class="custom-control-input">
																		<span class="custom-control-indicator"></span>
																		<span class="custom-control-description">Herr</span>
																	</label>
																	<label class="custom-control custom-radio">
																		<input id="radio2" name="anrede_input" type="radio" value="Frau" class="custom-control-input">
																		<span class="custom-control-indicator"></span>
																		<span class="custom-control-description">Frau</span>
																	</label>
																</div>
																
															</div>
															<div class="input-group">
																<label class="input-group-addon" for"vorname">
																	Vorname
																</label>
																<input id="vorname_input" class="form-control checkedInput" type="text">
															</div>
															<div class="input-group">
																<label class="input-group-addon" for"nachname">
																	Nachname
																</label>
																<input id="nachname_input" class="form-control checkedInput" type="text">
															</div>
															<div class="input-group">
																<label class="input-group-addon" for"telefon">
																	Telefon
																</label>
																<input id="telefon_input" class="form-control checkedInput" type="text">
															</div>
															<div class="input-group">
																<label class="input-group-addon" for"email">
																	eMail
																</label>
																<input id="email_input" class="form-control checkedInput" type="text">
															</div>
															<div class="input-group">
																<label class="input-group-addon" for"wishesmails">
																	eMails an Kontakt senden
																</label>
																<input id="wishesmails_input" class="form-control checkedInput" type="checkbox">
															</div>
														</div>
													</div>
												</div>
												<button class="btn btn-default panel-heading-btn btn-block pull-left" type="button" aria-hidden="true" style="margin-bottom: 15px; margin-top: 15px" id="addcontact">
													<span class="glyphicon glyphicon-plus">
													</span>
													<span>
														weiteren Kontakt hinzuf&uuml;gen
													</span>
												</button>
												<button type="button" class="btn btn-default navTabsNext pull-right" style="margin-top: 15px">
													<span class="glyphicon glyphicon-menu-right" aria-hidden="true">
													</span>
													<span>
														weiter
													</span>
												</button>
											</div>
										</div>

										<!-- Tab3 -->
										<div class="panel-body tab-pane" id="tab3">
											<div>
												<div class="input-group">
													<label class="input-group-addon" for"kategorie">
														Ticket-Kategorie
													</label>
													<select class="custom-select mb-12 form-control" id="kategorie_input">
														<option selected>--</option>
														<option value="Reperatur">Reperatur</option>
														<option value="Ersaztteil bestellen">Ersaztteil bestellen</option>
														<option value="Ger&auml;t ersetzen">Ger&auml;t ersetzen</option>
													</select>
												</div>
												<div class="input-group">
													<label class="input-group-addon" for"prioritaet">
														Ticket-Priorit&auml;t
													</label>
													<select class="custom-select mb-12 form-control" id="prioritaet_input">
														<option selected>--</option>
														<option value="hoch">hoch</option>
														<option value="niedrig">niedrig</option>
													</select>
												</div>
												<div class="input-group form-check form-check-inline">
													<label class="input-group-addon" for"kundensichtbar">
														Ticket kundensichtbar
													</label>
													<div class="form-check form-check-inline">
														<label class="custom-control custom-radio">
															<input id="radio1" name="kundensichtbar_input"  value="ja" type="radio" class="custom-control-input">
															<span class="custom-control-indicator"></span>
															<span class="custom-control-description">ja</span>
														</label>
														<label class="custom-control custom-radio">
															<input id="radio2" name="kundensichtbar_input" type="radio" value="nein" class="custom-control-input">
															<span class="custom-control-indicator"></span>
															<span class="custom-control-description">nein</span>
														</label>
													</div>
												</div>

												<button type="button" class="btn btn-default navTabsNext pull-right" style="margin-top: 15px" id="continueToCheck">
													<span class="glyphicon glyphicon-menu-right" aria-hidden="true">
													</span>
													<span>
														weiter
													</span>
												</button>
											</div>
										</div>

										<!-- Tab4 -->
										<div class="panel-body tab-pane" id="check">
											<div id="check_content">
												<div>   
													<div class="no-wrap-subtext">
														<h4>
															<a role="button" data-toggle="collapse" href="#checkPersonalData_content" aria-expanded="true" aria-controls="checkPersonalData_content">
																<span class=" glyphicon glyphicon-menu-down"> 
																</span>
																<span> 
																	Anliegen
																</span>
															</a>
														</h4>
													</div>
												</div>
												<div id="checkPersonalData_content" class="panel-collapse collapse in panel-content" role="tabpanel" aria-labelledby="checkPersonalData_content">
													<div class="panel panel-default">
														<div class="panel-body" style="background-color: #F8F8F7">
															<table class="table" id="o_subject">
																<tbody>
																	<tr>
																		<th>Betreff:</th>
																		<td id="subject" class="output"></td>
																	</tr>
																	<tr>
																		<th>Ger&auml;t:</th>
																		<td id="gereat" class="output" 
																		></td>
																	</tr>
																	<tr>
																		<th>Beschreibung:</th>
																		<td><div id="description" ></div></td>
																	</tr>
																</tbody>
															</table>
														</div>
													</div>
												</div> 
												<div> 
													<div class="no-wrap-subtext">
														<h4>
															<a role="button" data-toggle="collapse" href="#checkPersonalData_content4" aria-expanded="true" aria-controls="checkPersonalData_content">
																<span class=" glyphicon glyphicon-menu-down"> 
																</span>
																<span> 
																	Kontakt
																</span>
															</a>
														</h4>
													</div>
												</div>
												<div id="checkPersonalData_content4" class="panel-collapse collapse in panel-content" role="tabpanel" aria-labelledby="checkPersonalData_content">
													<div class="panel panel-default" id="check_contact">
														<div class="panel-body" id="check_contact_person" style="background-color: #F8F8F7">

															<table class="table">
																<tbody>
																	<tr>
																		<th>Anrede:</th>
																		<td id="anrede" class="output"></td>
																	</tr>
																	<tr>
																		<th>Vorname:</th>
																		<td id="vorname" class="output" 
																		></td>
																	</tr>
																	<tr>
																		<th>Nachname:</th>
																		<td id="nachname" class="output" 
																		></td>
																	</tr>
																	<tr>
																		<th>Telefon:</th>
																		<td id="telefon" class="output" 
																		></td>
																	</tr>
																	<tr>
																		<th>eMail:</th>
																		<td id="email" class="output" 
																		></td>
																	</tr>
																	<tr>
																		<th>Mails an Kontakt:</th>
																		<td id="wishesmails" class="output" 
																		></td>
																	</tr>
																</tbody>
															</table>
														</div>
													</div> 
												</div>
												<div> 
													<div class="no-wrap-subtext">
														<h4>
															<a role="button" data-toggle="collapse" href="#checkPersonalData_content2" aria-expanded="true" aria-controls="checkPersonalData_content">
																<span class=" glyphicon glyphicon-menu-down"> 
																</span>
																<span> 
																	Spezifikation
																</span>
															</a>
														</h4>
													</div>
												</div>
												<div id="checkPersonalData_content2" class="panel-collapse collapse in panel-content" role="tabpanel" aria-labelledby="checkPersonalData_content">
													<div class="panel panel-default">
														<div class="panel-body" style="background-color: #F8F8F7">


															<table class="table">
																<tbody>
																	<tr>
																		<th>Ticket-Kategorie:</th>
																		<td id="kategorie" class="output"></td>
																	</tr>
																	<tr>
																		<th>Ticket-Priorit&auml;t:</th>
																		<td id="prioritaet" class="output" 
																		></td>
																	</tr>
																	<tr>
																		<th>Ticket kundensichtbar:</th>
																		<td id="kundensichtbar" class="output" 
																		></td>
																	</tr>

																</tbody>
															</table>


														</div>
													</div> 
												</div>
												<h4>
												</h4>


												<!-- Ticket-Buttons -->
												<div class="panel-body" style="border-top-style: solid;border-top-width: 1px;border-top-color: #e5e5e5; padding-bottom: 0px; margin-top: 45px;">
													<div class="pull-right">
														<div class="row text-right">
															<div class="col-xs-12 spacer-small">
																<div>
																	<button class="btn" aria-expanded="false">
																		<span class="glyphicon glyphicon-remove" aria-hidden="true">
																		</span>
																		<span>
																			Verwerfen
																		</span>
																	</button>
																	<button class="btn" aria-expanded="false">
																		<span class="glyphicon glyphicon-floppy-disk" aria-hidden="true">
																		</span>
																		<span>
																			als Entwurf speichern
																		</span>
																	</button>
																	<button class="btn btn-primary" aria-expanded="false">
																		<span class="glyphicon glyphicon-menu-right" aria-hidden="true">
																		</span>
																		<span>
																			Ticket an Dispatcher weitergeben
																		</span>
																	</button>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

</body>

</html>



<script type="text/javascript">


	$(document).ready(function () {

		/*disable non active tabs*/
		$('.nav.nav-steps li').not('.active').addClass('disabled');
		$('.nav.nav-steps li').not('.active').find('a').removeAttr("data-toggle");


		//Wechsel der Tabs ueber Button 'weiter'
		$('.navTabsNext').click(function () {

			$('#navTabBar li.active').addClass('finished');
			$('#navTabBar li.active').addClass('disabled');
			$('#navTabBar li.active').find('a').removeAttr("data-toggle");
			$('#navTabBar li.active').next('li').removeClass('disabled');
			$('#navTabBar li.active').next('li').find('a').attr('data-toggle','tab');

			$('#navTabBar li.active').next().find('a').trigger("click");

			//falls check-tab erreicht, alle tabs anwaehlbar
			if($('#navTabBar li.active').find('a').attr("href")=='#check'){
				$('.nav.nav-steps li').removeClass('disabled');
				$('.nav.nav-steps li').find('a').attr('data-toggle','tab');
			};
			
		});
		
	
		



		//loescht Kontaktperson
		$('#deleteContact').click(function () {
			if($('#contacts').children().length>1){
				$(this).parents('#contact_person').remove();
			}
			else {
				$(this).parents('#contact_person').find(':input').val('');
			}

		});



		//Aktualisieren der Textfelder im Uebersicht-Tab
		$('a[href="#check"]').click(function () {

			//Anzahl Kontakte zuruecksetzen
			$('#checkPersonalData_content4').children(':first').find('.output').each(function(){
				$(this).text("");
			});
			$('#checkPersonalData_content4').children(':gt(0)').remove();


			//fuellt alle vorhandenen Textfelder mit eingegebenen Input
			$('.output').each(function(){
				if ($('#'+this.id+'_input').val()=="") {
					$(this).text("--");
				}
				else {
					$(this).text($('#'+this.id+'_input').val())
				}
			});
			$('#anrede').text($( "input[type=radio][name=anrede_input]:checked").val());
			$('#kundensichtbar').text($( "input[type=radio][name=kundensichtbar_input]:checked").val());

			//Inhalt tinyMCE
			$('#description').html(tinyMCE.activeEditor.getContent({format : 'raw'}));

            //Felder fuer mehrere Kontakte hinzufuegen + fuellen
            if ($('#contacts').children().length>1) {
            	$('#contacts').children(':gt(0)').each(function() {
            		$('#checkPersonalData_content4').children(':first').clone().appendTo($('#checkPersonalData_content4'));
            		fill_contact_checks(this);
            	});

            };
        });

        //Kontakt-Form um weiteren Kontakt anfuegen + Inhalt ruecksetzen
        $('#addcontact').click(function () {
        	$('#contact_person').clone(':first').appendTo($('#contacts'));	
        	$('#contacts').children(':last').find(':input').val('');
        });



    });

	function fill_contact_checks(elem_with_inputs){
		$('#checkPersonalData_content4').children(':last').find('.output').each(function(){
			if ($(elem_with_inputs).find('#'+this.id+'_input').val()=="") {
				$(this).text("--");
			}
			else {
				$(this).text($(elem_with_inputs).find('#'+this.id+'_input').val())
			}
		});

	};


</script>